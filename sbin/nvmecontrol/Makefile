# $FreeBSD$

.include <src.opts.mk>

PACKAGE=nvme-tools
PROG=	nvmecontrol
SRCS=	comnd.c nvmecontrol.c
SRCS+=	connect.c devlist.c disconnect.c discover.c fabrics.c firmware.c
SRCS+=	format.c identify.c logpage.c ns.c nsid.c
SRCS+=	perftest.c power.c reconnect.c reset.c resv.c sanitize.c
SRCS+=	passthru.c
SRCS+=	identify_ext.c nvme_util.c nc_util.c
SRCS+=  selftest.c
CFLAGS+= -I${SRCTOP}/lib/libnvmf
MAN=	nvmecontrol.8
LDFLAGS+= -rdynamic
LIBADD+= devctl nvmf util
SUBDIR=	modules
HAS_TESTS=
SUBDIR.${MK_TESTS}+= tests

.PATH:	${SRCTOP}/sys/dev/nvme

.include <bsd.prog.mk>
.include <bsd.subdir.mk>
